{"name": "get请求查询用户数据列表", "status": "broken", "statusDetails": {"message": "KeyError: 'case_002'", "trace": "self = <test.test_api.TestApiAuto object at 0x000002740E511668>\ncase_number = 'case_004', case_title = 'get请求查询用户数据列表', path = 'users'\nis_token = '', method = 'get', parametric_key = 'data', file_var = ''\nfile_path = '', parameters = ''\ndependent = '{\"case_002\": [\"$.data.id\"],\"case_001\":[\"$.meta.msg\",\"$.meta.status\"]}'\ndata = '{\"pagenum\": 1, \"pagesize\": \"12\"}'\nexpect = '{\"msg\": \"获取管理员列表成功\", \"status\": 200}'\n\n    @pytest.mark.parametrize('case_number,case_title,path,is_token,method,parametric_key,file_var,'\n                             'file_path, parameters, dependent,data,expect', data_list)\n    def test_main(self, case_number, case_title, path, is_token, method, parametric_key, file_var,\n                  file_path, parameters, dependent, data, expect):\n    \n        # 感谢：https://www.cnblogs.com/yoyoketang/p/13386145.html，提供动态添加标题的实例代码\n        # 动态添加标题\n        allure.dynamic.title(case_title)\n    \n        logger.debug(f'⬇️⬇️⬇️...执行用例编号:{case_number}...⬇️⬇️⬇️️')\n        with allure.step(\"处理相关数据依赖，header\"):\n>           data, header, parameters_path_url = treat_data.treating_data(is_token, parameters, dependent, data, save_response_dict)\n\ntest_api.py:70: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\tools\\data_tearing.py:40: in treating_data\n    dependent_data = save_response_dict.read_depend_data(dependent)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <tools.save_response.SaveResponse object at 0x000002740E0EE1D0>\ndepend = {'case_001': ['$.meta.msg', '$.meta.status'], 'case_002': ['$.data.id']}\n\n    def read_depend_data(self, depend):\n        \"\"\"\n    \n        :param depend: 需要依赖数据字典{\"case_001\":\"['jsonpaht表达式1', 'jsonpaht表达式2']\"}\n        :return:\n        \"\"\"\n        depend_dict = {}\n        depend = json.loads(depend)\n        for k, v in depend.items():\n            # 取得依赖中对应case编号的值提取表达式\n            try:\n                for value in v:\n                    # value : '$.data.id'\n                    # 取得对应用例编号的实际响应结果\n>                   actual = self.actual_response[k]\nE                   KeyError: 'case_002'\n\n..\\tools\\save_response.py:46: KeyError"}, "steps": [{"name": "处理相关数据依赖，header", "status": "broken", "statusDetails": {"message": "KeyError: 'case_002'\n", "trace": "  File \"E:\\apiAutoTest\\test\\test_api.py\", line 70, in test_main\n    data, header, parameters_path_url = treat_data.treating_data(is_token, parameters, dependent, data, save_response_dict)\n  File \"E:\\apiAutoTest\\tools\\data_tearing.py\", line 40, in treating_data\n    dependent_data = save_response_dict.read_depend_data(dependent)\n  File \"E:\\apiAutoTest\\tools\\save_response.py\", line 46, in read_depend_data\n    actual = self.actual_response[k]\n"}, "start": 1606447512820, "stop": 1606447512821}], "attachments": [{"name": "stderr", "source": "e08f5372-e99d-407e-bae6-8b9fdf283645-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case_number", "value": "'case_004'"}, {"name": "case_title", "value": "'get请求查询用户数据列表'"}, {"name": "path", "value": "'users'"}, {"name": "is_token", "value": "''"}, {"name": "method", "value": "'get'"}, {"name": "parametric_key", "value": "'data'"}, {"name": "file_var", "value": "''"}, {"name": "file_path", "value": "''"}, {"name": "parameters", "value": "''"}, {"name": "dependent", "value": "'{\"case_002\": [\"$.data.id\"],\"case_001\":[\"$.meta.msg\",\"$.meta.status\"]}'"}, {"name": "data", "value": "'{\"pagenum\": 1, \"pagesize\": \"12\"}'"}, {"name": "expect", "value": "'{\"msg\": \"获取管理员列表成功\", \"status\": 200}'"}], "start": 1606447512820, "stop": 1606447512821, "uuid": "fb824f53-665d-4883-b598-7cf0f3eb4b67", "historyId": "c1a34db81f0d140b3798bf32958935f5", "testCaseId": "96335e5fe8ea1828392a583ee3f03e30", "fullName": "test.test_api.TestApiAuto#test_main[case_004-get请求查询用户数据列表-users--get-data----{\"case_002\": [\"$.data.id\"],\"case_001\":", "labels": [{"name": "parentSuite", "value": "test"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestApiAuto"}, {"name": "host", "value": "DESKTOP-O07PCGI"}, {"name": "thread", "value": "7740-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test.test_api"}]}